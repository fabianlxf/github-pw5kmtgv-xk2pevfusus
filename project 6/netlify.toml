# netlify.toml

[build]
  command = "npm run build"
  publish = "dist"
  functions = "netlify/functions"

# API-Redirects
[[redirects]]
  from = "/api/stt"
  to = "/.netlify/functions/stt"
  status = 200

[[redirects]]
  from = "/api/plan/day"
  to = "/.netlify/functions/plan-day"
  status = 200

[[redirects]]
  from = "/api/plan/from-speech"
  to = "/.netlify/functions/plan-from-speech"
  status = 200

[[redirects]]
  from = "/api/set-preferences"
  to = "/.netlify/functions/set-preferences"
  status = 200

# SPA fallback
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Scheduled Function (läuft stündlich, UTC-Zeit)
[functions."push-daily"]
  schedule = "0 * * * *"
